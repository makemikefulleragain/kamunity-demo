(()=>{var e={};e.id=3,e.ids=[3],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},5080:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>x,staticGenerationAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{GET:()=>p});var o=r(9303),i=r(8716),a=r(3131),n=r(7070);let u=(0,r(2438).eI)("https://your-project.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY);async function p(){try{let{data:e,error:t}=await u.from("conversations").select(`
        *,
        messages(*)
      `).order("updated_at",{ascending:!1});if(t)return n.NextResponse.json({error:"Failed to fetch conversations"},{status:500});let r=e?.map(e=>({id:e.id,topic:e.topic||"Untitled Conversation",source_type:e.source_type,source_id:e.source_id,created_at:e.created_at,updated_at:e.updated_at,message_count:e.messages?.length||0,last_message:e.messages?.[0]||null}))||[];return n.NextResponse.json(r)}catch(e){return console.error("Error fetching conversations:",e),n.NextResponse.json({error:"Internal server error"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/conversations/route",pathname:"/api/conversations",filename:"route",bundlePath:"app/api/conversations/route"},resolvedPagePath:"C:\\dev\\kamunity-final\\src\\app\\api\\conversations\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:x}=c,v="/api/conversations/route";function m(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,972,438],()=>r(5080));module.exports=s})();
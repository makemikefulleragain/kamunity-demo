(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{930:function(e,r,a){Promise.resolve().then(a.bind(a,3796))},9376:function(e,r,a){"use strict";var s=a(5475);a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}})},3796:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return d}});var s=a(7437),n=a(2265),i=a(9376),t=a(7648),l=a(321),o=a(5390);let m={fun:"\uD83D\uDE00",factual:"\uD83C\uDFAF",spicy:"\uD83C\uDF36️",nice:"❤️",weird:"\uD83E\uDD28",intriguing:"\uD83D\uDD0D"};function d(){let e=(0,i.useRouter)(),{signUp:r}=(0,l.a)(),[a,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(null),[x,b]=(0,n.useState)({name:"",username:"",email:"",password:"",confirmPassword:"",emoji_avatar:"\uD83D\uDE0A",email_subscribed:!1}),p=async a=>{if(a.preventDefault(),d(!0),u(null),x.password!==x.confirmPassword){u("Passwords do not match"),d(!1);return}if(x.password.length<6){u("Password must be at least 6 characters"),d(!1);return}if(!x.name.trim()||!x.username.trim()){u("Name and username are required"),d(!1);return}if(!/^[a-zA-Z0-9_]+$/.test(x.username)){u("Username can only contain letters, numbers, and underscores"),d(!1);return}try{let{error:a}=await r(x.email,x.password,{name:x.name.trim(),username:x.username.trim(),emoji_avatar:x.emoji_avatar,email_subscribed:x.email_subscribed});a?u(a.message):e.push("/news")}catch(e){u("An unexpected error occurred")}finally{d(!1)}},h=e=>{let{name:r,value:a,type:s,checked:n}=e.target;b(e=>({...e,[r]:"checkbox"===s?n:a}))};return(0,s.jsx)(o.$0,{spacing:"xl",className:"min-h-screen flex items-center",children:(0,s.jsx)(o.W2,{children:(0,s.jsx)("div",{className:"max-w-md mx-auto",children:(0,s.jsx)(o.Zb,{children:(0,s.jsxs)(o.aY,{className:"p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)(o.X6,{level:2,className:"mb-2",children:"Join Kamunity"}),(0,s.jsx)(o.xv,{color:"muted",children:"Connect with your community and stay informed"})]}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[c&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:x.name,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your full name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,s.jsx)("input",{type:"text",id:"username",name:"username",value:x.username,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Choose a unique username"}),(0,s.jsx)(o.xv,{variant:"caption",color:"muted",className:"mt-1",children:"Letters, numbers, and underscores only"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:x.email,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:x.password,onChange:h,required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Create a password (min 6 characters)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,s.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:x.confirmPassword,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Confirm your password"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Your Personality Avatar"}),(0,s.jsx)("div",{className:"grid grid-cols-6 gap-2",children:Object.entries(m).map(e=>{let[r,a]=e;return(0,s.jsx)("button",{type:"button",onClick:()=>b(e=>({...e,emoji_avatar:a})),className:"p-3 text-2xl rounded-lg border-2 transition-colors ".concat(x.emoji_avatar===a?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:a},r)})}),(0,s.jsx)(o.xv,{variant:"caption",color:"muted",className:"mt-1",children:"This will be your avatar throughout Kamunity"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"email_subscribed",name:"email_subscribed",checked:x.email_subscribed,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"email_subscribed",className:"ml-2 block text-sm text-gray-700",children:"Subscribe to community updates and news"})]}),(0,s.jsx)(o.zx,{type:"submit",variant:"primary",disabled:a,className:"w-full",children:a?"Creating Account...":"Join Kamunity"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)(o.xv,{color:"muted",children:["Already have an account?"," ",(0,s.jsx)(t.default,{href:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]})})})})})}}},function(e){e.O(0,[137,648,733,194,971,117,744],function(){return e(e.s=930)}),_N_E=e.O()}]);